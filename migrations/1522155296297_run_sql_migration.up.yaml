- args:
    sql: |-
      CREATE TABLE bot_user (
          id SERIAL NOT NULL,
          telegram_id INTEGER NOT NULL PRIMARY KEY,
          first_name TEXT NULL,
          last_name TEXT NULL,
          subscribe_status BOOLEAN NOT NULL DEFAULT true,
          waiting_list BOOLEAN NOT NULL DEFAULT false,
          requests INTEGER NOT NULL DEFAULT 0,
          recommendations INTEGER NOT NULL DEFAULT 0,
          date_joined DATE NOT NULL,
          last_interaction TIMESTAMP WITH TIME ZONE NOT NULL,
          last_active TIMESTAMP WITH TIME ZONE NOT NULL
      );

      CREATE TABLE request (
          id SERIAL NOT NULL PRIMARY KEY,
          user_id INTEGER NOT NULL REFERENCES bot_user(telegram_id),
          content TEXT NOT NULL,
          date_created DATE NOT NULL,
          delivered INTEGER NOT NULL DEFAULT 0,
          replied INTEGER NOT NULL DEFAULT 0
      );

      CREATE TABLE recommendation (
          id SERIAL NOT NULL PRIMARY KEY,
          user_id INTEGER NOT NULL REFERENCES bot_user(telegram_id),
          request_id INTEGER NOT NULL REFERENCES request(id),
          song TEXT NOT NULL,
          artist TEXT NULL,
          explanation TEXT NULL,
          dedication TEXT NULL,
          date_created DATE NOT NULL
      );
  type: run_sql
